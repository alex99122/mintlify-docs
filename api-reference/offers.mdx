---
title: "Offers"
description: "Create, manage, and respond to trade offers between users"
---

## Offer Status Codes

| Status | Meaning | Description |
| ------ | ------- | ----------- |
| `0` | **Active** | Pending offer, awaiting response |
| `1` | **Accepted** | Offer was accepted and completed |
| `2` | **Declined** | Offer was declined by recipient |
| `3` | **Removed/Cancelled** | Offer was cancelled by creator |
| `-1` | **Invalid Balance** | Buyer has insufficient balance |
| `-2` | **Expired** | Offer expired (past expiration time) |
| `-3` | **Invalid Item** | Item no longer available or not owned by recipient |

<Info>
Offers are automatically validated when retrieved via `GET` endpoints. Invalid offers (expired, insufficient balance, item unavailable) are automatically updated with negative status codes.
</Info>

---

## Get received offers

```
GET /offers/received
```

**Permission:** Connected + API

Returns trade offers that the authenticated user has received from other users (where current user is the seller).

### Response

```json
{
  "err": false,
  "success": true,
  "content": {
    "offers": [
      {
        "id": 12345,
        "from": "76561198000000000",
        "to": "76561198111111111",
        "status": 0,
        "time": 1706832000,
        "price": 150000,
        "read": 0,
        "createdAt": 1706745600,
        "backpackid": 98765,
        "user": {
          "username": "BuyerName",
          "avatar": "https://avatars.steamstatic.com/..."
        },
        "item": {
          "name": "Team Captain",
          "effect": "Burning Flames",
          "url": "unusual_team_captain",
          "game": 440,
          "quality": "Unusual",
          "image": "https://...",
          "type": "Hat",
          "craftable": 1,
          "assetId": "987654321",
          "wear": null,
          "sheen": "",
          "killstreaker": "",
          "spell": "",
          "parts": null,
          "html": null,
          "user": "76561198111111111",
          "state": 1
        }
      }
    ]
  }
}
```

### Response Fields

| Field | Type | Description |
|-------|------|-------------|
| `id` | integer | Offer ID |
| `from` | string | Buyer's Steam ID |
| `to` | string | Seller's Steam ID (current user) |
| `status` | integer | Offer status code (see table above) |
| `time` | integer | Expiration timestamp (Unix time) |
| `price` | integer | Offer price in cents |
| `read` | integer | Read status: `0` = unread, `1` = read |
| `createdAt` | integer | Creation timestamp |
| `backpackid` | integer | Backpack item ID |
| `user` | object | Buyer information (username, avatar) |
| `item` | object | Full item details from backpack + items tables |

<Info>
The endpoint automatically validates offers and filters out those with status < 0 (invalid). Only active and completed offers are returned.
</Info>

---

## Get my offers

```
GET /offers/my
```

**Permission:** Connected + API

Returns trade offers that the authenticated user has sent to other users (where current user is the buyer).

### Response

```json
{
  "err": false,
  "success": true,
  "content": [
    {
      "id": 12345,
      "from": "76561198000000000",
      "to": "76561198111111111",
      "status": 0,
      "time": 1706832000,
      "price": 150000,
      "read": 0,
      "createdAt": 1706745600,
      "backpackid": 98765,
      "user": {
        "username": "SellerName",
        "avatar": "https://avatars.steamstatic.com/..."
      },
      "item": {
        "name": "Team Captain",
        "effect": "Burning Flames",
        "url": "unusual_team_captain",
        "game": 440,
        "quality": "Unusual",
        "image": "https://...",
        "type": "Hat",
        "craftable": 1,
        "assetId": "987654321"
      }
    }
  ]
}
```

<Warning>
Note: `GET /offers/my` returns an array directly in `content`, while `GET /offers/received` wraps the array in `{offers: [...]}`.
</Warning>

---

## Create offer

```
POST /offers/create
```

**Permission:** Connected + API

Creates a new trade offer to purchase an item from another user.

### Body Parameters

<ParamField body="id" type="string" required>
  Item assetId (Steam asset identifier)
</ParamField>

<ParamField body="price" type="integer" required>
  Offer price in cents (must be &gt;= 0 and &lt; current item price)
</ParamField>

### Request Example

```json
{
  "id": "987654321",
  "price": 145000
}
```

### Response

```json Success
{
  "err": false,
  "success": true,
  "content": {
    "message": "Offer created successfully"
  }
}
```

### Error Responses

| Error Message | Description |
|---------------|-------------|
| `Missing required parameters: id and price` | Missing required fields |
| `Invalid price` | Price is negative |
| `Too many active offers` | Exceeds maximum active offers (default: 10) |
| `Item not found or not available` | Item doesn't exist or not for sale (state != 1) |
| `This item cannot be offered` | Item is blacklisted |
| `Offer already exists` | Duplicate offer for the same item |
| `There is a buyorder for this item at a higher price` | Buy order exists with better price |
| `Cannot buy your own item` | Attempting to create offer for own item |
| `Price must be lower than or equal to current price` | Offer price exceeds listing price |
| `Insufficient balance` | Buyer doesn't have enough balance |
 
<Info>
**Configuration:**
- `maxOffer`: Maximum active offers per user (default: 10)
- `maxDurationOffer`: Offer expiration in seconds (86400 = 24 hours) 
</Info>

---

## Accept offer

```
POST /offers/accept
```

**Permission:** Connected + API

Accepts a received trade offer and completes the transaction (seller action).

### Body Parameters

<ParamField body="id" type="integer" required>
  The offer ID to accept
</ParamField>

### Request Example

```json
{
  "id": 12345
}
```

### Response

```json Success
{
  "err": false,
  "success": true,
  "content": {
    "message": "Offer accepted successfully"
  }
}
```

```json Error
{
  "err": true,
  "success": false,
  "content": {
    "message": "Failed to accept offer or offer not found"
  }
}
```
 
---

## Decline offer

```
POST /offers/decline
```

**Permission:** Connected + API

Declines a received trade offer (seller action).

### Body Parameters

<ParamField body="id" type="integer" required>
  The offer ID to decline
</ParamField>

### Request Example

```json
{
  "id": 12345
}
```

### Response

```json Success
{
  "err": false,
  "success": true,
  "content": {
    "message": "Offer declined successfully"
  }
}
```

```json Error
{
  "err": true,
  "success": false,
  "content": {
    "message": "Failed to decline offer or offer not found"
  }
}
```
 
---

## Remove/Cancel offer

```
POST /offers/remove
```

**Permission:** Connected + API

Cancels a sent offer (buyer action). Only the offer creator can remove it.

### Body Parameters

<ParamField body="id" type="integer" required>
  The offer ID to cancel
</ParamField>

### Request Example

```json
{
  "id": 12345
}
```

### Response

```json Success
{
  "err": false,
  "success": true,
  "content": {
    "message": "Offer removed successfully"
  }
}
```

```json Error
{
  "err": true,
  "success": false,
  "content": {
    "message": "Failed to remove offer or offer not found"
  }
}
```