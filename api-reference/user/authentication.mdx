---
title: "Authentication"
description: "Endpoints for user login, session management and connection status"
---

## Steam OpenID Login

<Card title="GET /user/login" icon="right-to-bracket">
  Initiates or completes a Steam OpenID authentication flow. On first call (no mode), returns a Steam OpenID auth URL. On callback, validates the Steam identity, performs fraud checks (SEON), and returns a JWT token.
</Card>

### First Call — Get Auth URL

```
GET /user/login
```

**Authentication:** None

**Response**

<ResponseField name="status" type="string">success</ResponseField>
<ResponseField name="data" type="object">
  <Expandable title="properties">
    <ResponseField name="url" type="string">Steam OpenID authentication URL to redirect the user to.</ResponseField>
  </Expandable>
</ResponseField>

```json Example Response
{
  "status": "success",
  "data": {
    "url": "https://steamcommunity.com/openid/login?..."
  }
}
```

### Callback — Validate & Login

On successful Steam callback, the endpoint validates the user, checks for proxies, blocked countries, and email validation status.

**Possible Responses:**

| Status | Code | Description |
|--------|------|-------------|
| `success` | — | Login successful, returns JWT |
| `error` | `0x00000001` | Email not validated — returns `userId`, `hashUser`, encrypted `jwt` |
| `error` | `0x00000002` | Missing SEON parameter |
| `forbidden` | — | Proxy detected or country blocked |

```json Success Response
{
  "status": "success",
  "data": {
    "jwt": "eyJhbGciOiJI..."
  }
}
```

```json Email Not Validated Response
{
  "status": "error",
  "data": {
    "code": 1,
    "userId": "76561198000000000",
    "hashUser": "abc123...",
    "message": "Email not validated",
    "jwt": "encrypted_jwt_token..."
  }
}
```

### JWT Token Structure

The JWT token contains the following claims:

| Claim | Type | Description |
|-------|------|-------------|
| `iss` | string | Issuer — always `"API"` |
| `sub` | string | Steam ID of the user |
| `exp` | integer | Expiration timestamp (31 days from creation) |
| `iat` | integer | Issued at timestamp |
| `jti` | string | Unique token identifier (UUID) |
| `ip` | string | Client IP address |
| `country` | string | ISO country code |
| `steamid` | integer | Numeric Steam ID |

---

## API Key Login

<Card title="POST /user/login" icon="key">
  Authenticates using an API key instead of Steam OpenID. Returns a JWT token for subsequent API calls.
</Card>

```
POST /user/login
```

**Authentication:** None

**Body Parameters**

<ParamField body="apiKey" type="string" required>
  The API key associated with the user account.
</ParamField>

**Response**

```json Success Response
{
  "status": "success",
  "data": {
    "jwt": "eyJhbGciOiJI..."
  }
}
```

**Errors**

| Status | Message |
|--------|---------|
| `error` | Missing required parameter: apiKey |
| `forbidden` | Invalid API key |
| `forbidden` | Country blocked |

---

## Check Connection Status

<Card title="GET /user/isConnected" icon="circle-check">
  Checks whether the current user is authenticated.
</Card>

```
GET /user/isConnected
```

**Authentication:** None

**Response**

```json
{
  "status": "success",
  "data": {
    "connected": true
  }
}
```

<ResponseField name="data.connected" type="boolean">
  `true` if the user is currently authenticated, `false` otherwise.
</ResponseField>

---

## Disconnect (Logout)

<Card title="GET /user/disconnect" icon="right-from-bracket">
  Terminates the current user session.
</Card>

```
GET /user/disconnect
```

**Authentication:** `connected`

**Response**

```json
{
  "status": "success",
  "data": {
    "disconnect": true
  }
}
```

---

## Disconnect All Sessions

<Card title="GET /user/disconnectSession/all" icon="power-off">
  Terminates all active sessions for the current user.
</Card>

```
GET /user/disconnectSession/all
```

**Authentication:** `connected`

**Response**

```json
{
  "status": "success",
  "data": {
    "message": "All sessions have been disconnected successfully"
  }
}
```

---

## Disconnect Session by ID

<Card title="GET /user/disconnectSession/:id" icon="xmark">
  Terminates a specific session by its ID.
</Card>

```
GET /user/disconnectSession/{id}
```

**Authentication:** `connected`

**Path Parameters**

<ParamField path="id" type="integer" required>
  The session ID to disconnect.
</ParamField>

**Response**

```json
{
  "status": "success",
  "data": {
    "message": "Session disconnected successfully"
  }
}
```

---

## Get IP / Session List

<Card title="GET /user/ipList" icon="list">
  Retrieves a paginated list of login sessions with IP information, location, and ISP details. Admin users can query other users.
</Card>

```
GET /user/ipList
GET /user/ipList/{userid}   (admin)
```

**Authentication:** `connected` (admin for other users)

**Query Parameters**

<ParamField query="page" type="integer" default="0">
  Page number for pagination.
</ParamField>

<ParamField query="perpage" type="integer" default="10">
  Number of results per page (max 50).
</ParamField>

<ParamField query="expire" type="string">
  Set to `"true"` to include expired sessions.
</ParamField>

**Response**

```json
{
  "status": "success",
  "data": {
    "values": [
      {
        "ip": "192.168.1.1",
        "location": "US: New York",
        "isp": "Provider Name",
        "current": true,
        "userAgent": "Mozilla/5.0...",
        "timestamp": "1706745600"
      }
    ],
    "count": 25
  }
}
```

<ResponseField name="data.values[].current" type="boolean">
  `true` if this is the current active session.
</ResponseField>
